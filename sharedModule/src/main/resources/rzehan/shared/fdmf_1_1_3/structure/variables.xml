<variables>

    <description>
        Zde jsou definovány proměnné. K jejich vyhodnocení jsou použity funkce, další proměnné, vzory a
        konstanty.
        Proměnné je možné dynamicky doplňovat/upravovat.
        Nesmí ale nastat situace cyklu, tedy že by hodnota proměnné X závisela na proměnné/vzoru Y, která by závisela na
        proměnné X.
    </description>

    <variable name="PSP_DIR" type="File">
        <evaluationFunction name="PROVIDED">
            <!--tj. musi byt dodano pres GUI nebo CLI-->
            <params>
                <param name="var_name">PSP_DIR</param>
            </params>
        </evaluationFunction>
    </variable>

    <variable name="INFO_FILES" type="List<File>">
        <evaluationFunction name="FIND_FILES_IN_DIR_BY_PATTERN">
            <params>
                <param name="dir">
                    <variable name="PSP_DIR"/>
                </param>
                <param name="pattern">
                    <pattern name="INFO_XML_PATTERN"/>
                </param>
            </params>
        </evaluationFunction>
    </variable>

    <!--
        podobne
        MAIN_METS_FILES
        MD5_FILES
        TOLERATED_FILES
    -->


    <variable name="INFO_FILE" type="File">
        <evaluationFunction name="RETURN_FIRST_ITEM">
            <params>
                <param name="list">
                    <variable name="INFO_XML_FILES"/>
                </param>
            </params>
        </evaluationFunction>
    </variable>

    <!--
        podobne
        MAIN_METS_FILE
        MD5_FILE
    -->


    <variable name="SEC_METS_DIRS" type="List<File>">
        <evaluationFunction name="FIND_FILES_IN_DIR_BY_PATTERN">
            <params>
                <param name="dir">
                    <variable name="PSP_DIR"/>
                </param>
                <param name="pattern">
                    <pattern name="SEC_METS_DIR_PATTERN"/>
                </param>
            </params>
        </evaluationFunction>
    </variable>

    <!--
    podobne
    OCR_TEXT_DIRS
    OCR_ALTO_DIRS
    MC_DIRS
    UC_DIRS
    -->


    <variable name="SEC_METS_DIR" type="File">
        <evaluationFunction name="RETURN_FIRST_ITEM">
            <params>
                <param name="list">
                    <variable name="SEC_METS_DIRS"/>
                </param>
            </params>
        </evaluationFunction>
    </variable>

    <!--
    podobne
    OCR_TEXT_DIR
    OCR_ALTO_DIR
    MC_DIR
    UC_DIR
    -->

    <variable name="SEC_METS_FILES" type="List<File>">
        <evaluationFunction name="FIND_FILES_IN_DIR_BY_PATTERN">
            <params>
                <param name="dir">
                    <variable name="SEC_METS_DIR"/>
                </param>
                <param name="pattern">
                    <pattern name="SEC_METS_FILE_PATTERN"/>
                </param>
            </params>
        </evaluationFunction>
    </variable>

    <!--
    podobne
    OCR_TEXT_FILES
    OCR_ALTO_FILES
    MC_FILES
    UC_FILES
    -->


</variables>